<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Celnet Systems ltd.</title>
  <style>
    body {
      background-color: black;
      color: rgb(0, 255, 0);
      font-family: "Share Tech Mono", monospace;
      font-size: 16px;
      margin: 0;
      padding: 20px;
      overflow: hidden;
      text-shadow: 0 0 2px rgb(0, 255, 0), 0 0 4px rgb(0, 255, 0), 0 0 8px rgba(0, 255, 0, 0.582);
    }

    #boot-screen {
      position: absolute; /* Position it relative to the page */
      top: 180px; /* Position it below the images (adjust based on image height) */
      left: 10px; /* Align it with the left edge of the images */
      white-space: pre-wrap;
      line-height: 1.5;
      overflow-y: hidden; /* Hide the scrollbar */
      height: calc(100vh - 280px); /* Adjust height to leave space for the input field */
      padding: 10px; /* Add padding for better readability */
      border-radius: 15px; /* Slight rounding for CRT-like edges */
      scroll-behavior: smooth; /* Enable smooth scrolling */
    }

    .blinking-cursor {
      display: inline-block;
      width: 10px;
      height: 20px;
      background-color: rgb(0, 255, 0);
      animation: blink 1s step-start infinite;
    }

    @keyframes blink {
      50% {
        background-color: transparent;
      }
    }

    #fade-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: black;
      opacity: 0; /* Initially transparent */
      pointer-events: none;
      transition: opacity 1s ease-in-out; /* Smooth fade effect */
      z-index: 9999; /* Ensure it appears above all other elements */
    }

    #side-image {
      position: fixed; /* Keep the image fixed in place */
      top: 10px; /* Position it 10px from the top */
      left: 10px; /* Move it to the far left */
      width: 150px; /* Set a fixed width for the image */
      height: auto; /* Maintain the aspect ratio */
      object-fit: contain; /* Ensure the image scales properly */
      z-index: 1000; /* Ensure it appears above other elements */
    }

    #under-logo {
      position: fixed; /* Keep the image fixed in place */
      top: 10px; /* Align it with the first image vertically */
      left: 170px; /* Position it to the right of the first image (150px width + 20px spacing) */
      width: 150px; /* Match the width of the first image */
      height: auto; /* Maintain the aspect ratio */
      object-fit: contain; /* Ensure the image scales properly */
      z-index: 1000; /* Ensure it appears above other elements */
    }

    #boot-screen h1 {
      font-size: 24px; /* Make the text larger */
      font-weight: bold; /* Make the text bold */
      margin-left: 10px; /* Align the text with the images */
      margin-top: 180px; /* Add spacing to position the text below the images */
    }

    #command-input {
      position: fixed; /* Fix it to the bottom of the viewport */
      bottom: 10px; /* Position it 10px from the bottom */
      left: 0; /* Align it to the left edge */
      width: 100%; /* Make it span the full width */
      background-color: black;
      color: rgb(0, 255, 0);
      border: none;
      font-family: 'Share Tech Mono', monospace;
      font-size: 16px;
      outline: none;
      padding: 10px; /* Add padding for better spacing */
      z-index: 1000; /* Ensure it appears above other elements */
      display: none; /* Initially hide the command input */
    }
  </style>
</head>
<body>
  <div id="fade-overlay"></div>
  <img id="side-image" src="Images/celnet.png" alt="Celnet Systems" />
  <img id="under-logo" src="Images/clnt.png" alt="logo" />
  <div id="boot-screen"></div>
  <input id="command-input" type="text" placeholder="Type a command..." />

  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="display: none;">
    <defs>
      <filter id="fisheye">
        <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="1" result="warp" />
        <feDisplacementMap in="SourceGraphic" in2="warp" scale="50" xChannelSelector="R" yChannelSelector="G" />
      </filter>
    </defs>
  </svg>

  <script>
    const bootText = [
      "Celnet Systems",
      "EXY-SDLBAC â„¢ F399-I INTERFACE BETA 0.6.6 ",
      "CPU: DIVV 2.2.0 INT 170K-CORE 18-50000K CPU # 9.90GHz",
      " ",
      "Total Memory: 2.5PB",
      " ",
      "Detected Devices...",
      "SDLBK-NRL 110.518",
      "UFD 9.0 Silicon-Power16GPMAP",
      "ADV-HID 2.20: SDLBK-HID 6.0",
      " ",
      "Loading Device Drivers...",
      "SDLBK-NRL 110.518: ................ OK",
      "AVD-HID 2.20: ................ OK",  
      " ",
      "Checking Neural Interface ............... OK",
      " ",
      "Initializing...................................... Done",
      " ",      
      "Waiting for command input...",
      "Use Define or Help for list of commands."
    ];

    const asciiArt = [
      "  _________ ",
      " /         \\ ",
      "|   O   O   |",
      "|     ^     |",
      " \\__|__|___/ ",
    ];

    const definitions = {
      "boot": "Boot into CalOS.",
      "define": "Explains the command requested.",
      "admin": "Provides login screen to access rest of device data.",
      "device": "A piece of hardware connected to the computer, such as a keyboard, mouse, or printer.",
      "interface": "A shared boundary across which two or more components exchange information.",
    };

    const commands = {
      "help": "Available commands: help, about, contact, commissions, define <term>, ascii, test",
      "about": "Celnet Systems LTD., all rights reserved.",
      "contact": "You can reach us at contact@celnetsystems.com.",
      "commissions": "Commissions are currently open. Visit our website for more details.",
      "ascii": "Displaying ASCII art...",
      "define": "Usage: define <term>. Example: define cpu",
      "boot": { url: "https://github.com/Jaybirdnerd/jaybirdnerd.github.io/tree/main" }, // Add the test command with a URL
    };

    const bootScreen = document.getElementById("boot-screen");
    const commandInput = document.getElementById("command-input");
    commandInput.style.display = "none"; // Initially hide the command input
    let currentLine = 0;

    let keySequence = [];
    const konamiCode = ["ArrowUp", "ArrowUp", "ArrowDown", "ArrowDown", "ArrowLeft", "ArrowRight", "ArrowLeft", "ArrowRight"];

    function checkKeySequence(event) {
      keySequence.push(event.key);

      // Keep the sequence length equal to the Konami Code length
      if (keySequence.length > konamiCode.length) {
        keySequence.shift();
      }

      // Check if the sequence matches the Konami Code
      if (keySequence.join(",") === konamiCode.join(",")) {
        keySequence = []; // Reset the sequence
        finishTyping(); // Trigger the immediate finish of text typing
      }
    }

    function finishTyping() {
      // Immediately display all remaining lines of bootText
      while (currentLine < bootText.length) {
        typeLine(bootText[currentLine], null, false);
        currentLine++;
      }

      // Show the input field for commands
      commandInput.style.display = "block";
      commandInput.focus();
    }

    document.addEventListener("keydown", checkKeySequence);

    function typeLine(line, callback, appendToLastLine = false) {
      let div;

      if (appendToLastLine) {
        div = bootScreen.lastElementChild;
      } else {
        div = document.createElement("div");
        bootScreen.appendChild(div);
      }

      let charIndex = 0;

      function typeChar() {
        if (charIndex < line.length) {
          div.textContent += line[charIndex];
          charIndex++;
          setTimeout(typeChar, 50); // Typing speed

          // Scroll to the bottom of the boot screen
          bootScreen.scrollTop = bootScreen.scrollHeight;
        } else {
          if (callback) {
            setTimeout(callback, 500); // Delay before the next line
          }
        }
      }

      typeChar();
    }

    function startTyping() {
      if (currentLine < bootText.length) {
        typeLine(bootText[currentLine], () => {
          currentLine++;
          startTyping();
        });
      } else {
        // Show the input field for commands after typing finishes
        setTimeout(() => {
          commandInput.style.display = "block";
          commandInput.focus();
        }, 500); // Add a slight delay after the last line finishes

        // Listen for user input
        commandInput.addEventListener("keydown", (event) => {
          if (event.key === "Enter") {
            const input = commandInput.value.trim().toLowerCase();
            const [command, ...args] = input.split(" ");
            const term = args.join(" ");

            if (commands[command]) {
              const response = commands[command];
              if (typeof response === "string") {
                // Display the response for the entered command
                typeLine(response, null, false);
              } else if (response.url) {
                // Trigger the fade-out effect
                const fadeOverlay = document.getElementById("fade-overlay");
                fadeOverlay.style.opacity = "1"; // Start the fade-in
                fadeOverlay.style.pointerEvents = "auto"; // Block interactions during the fade

                // Redirect to the URL after the fade effect completes
                setTimeout(() => {
                  window.location.href = response.url;
                }, 1000); // Match the duration of the fade effect (1 second)
              }
            } else {
              // Display an error message for unknown commands
              typeLine(`Unknown command: ${command}`, null, false);
            }
            commandInput.value = ""; // Clear the input field
          }
        });
      }
    }

    startTyping();
  </script>
</body>
</html>
